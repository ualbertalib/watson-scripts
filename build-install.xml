<?xml version="1.0" encoding="UTF-8"?>
<project basedir="." default="install" name="Watson-Install">
   <target name="install">
      <!-- fetch dependencies and install -->
      <mkdir dir="lib"/>
      <mkdir dir="dependencies"/>
      <get src="http://downloads.sourceforge.net/project/loc-xferutils/loc-bil-java-library/4.3/bagit-4.3-bin.zip" dest="dependencies"/>
      <mkdir dir="dependencies/bagit"/>
      <unzip src="dependencies/bagit-4.3-bin.zip" dest="dependencies/bagit"/>
      <copy todir="lib">
         <fileset dir="dependencies/bagit/bagit-4.3/lib" includes="*.jar"/>
      </copy>
      
      <mkdir dir="dependencies/jhove"/>
      <get src="http://downloads.sourceforge.net/project/jhove/jhove/JHOVE%201.6/jhove-1_6.zip" dest="dependencies/jhove-1_6.zip"/>
      <unzip src="dependencies/jhove-1_6.zip" dest="dependencies/jhove"/>
      <copy todir="lib" flatten="true">
         <fileset dir="." includes="dependencies/jhove/jhove/bin/JhoveApp.jar config/jhove.conf"/>
      </copy>
      
      <!-- ant-contrib package - needed for foreach etc. -->
      
      <mkdir dir="dependencies/ant-contrib"/>
      <get src="http://downloads.sourceforge.net/project/ant-contrib/ant-contrib/1.0b3/ant-contrib-1.0b3-bin.zip" dest="dependencies/ant-contrib-1.0b3-bin.zip"/>
      <unzip src="dependencies/ant-contrib-1.0b3-bin.zip" dest="dependencies/ant-contrib"/>
      <copy todir="lib">
         <fileset dir="dependencies/ant-contrib/ant-contrib" includes="ant-contrib-1.0b3.jar"/>
         <!-- note: we aren't copying jars from ant-contrib's lib directory since either bagit copied more recent versions or they aren't needed by our tasks -->
      </copy>
   </target>
</project>